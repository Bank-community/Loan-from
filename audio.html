<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡§¨‡•à‡§Ç‡§ï ‡§ï‡§Æ‡•ç‡§Ø‡•Å‡§®‡§ø‡§ü‡•Ä ‡§≤‡•ã‡§®</title>
    <link rel="shortcut icon" href="https://i.postimg.cc/XNpR3cN1/20241030-065157.png" type="image/x-icon">
    <link rel="apple-touch-icon" href="https://i.ibb.co/8F6snVv/20241030-065157.png" sizes="180x180">
    <!-- CSS ‡§´‡§º‡§æ‡§á‡§≤ ‡§ï‡•ã ‡§Ø‡§π‡§æ‡§Å ‡§≤‡§ø‡§Ç‡§ï ‡§ï‡§∞‡•á‡§Ç -->
    <link rel="stylesheet" href="style.css">
    <!-- Feather Icons Script -->
    <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>
<style>
/* --- General Styles --- */
:root {
    --primary-color: #007bff;
    --primary-darker: #0056b3;
    --secondary-color: #25D366; /* WhatsApp Green */
    --secondary-darker: #128C7E;
    --text-color: #333;
    --light-text: #555; /* Slightly darker light text */
    --bg-color: #f8f9fa; /* Lighter background */
    --card-bg: #ffffff;
    --border-color: #dee2e6; /* Softer border */
    --shadow-color: rgba(0, 0, 0, 0.08); /* Softer shadow */
    --prime-color: #ffc107; /* Prime Gold */
    --danger-color: #dc3545;
    --success-color: #28a745;
    --info-color: #17a2b8; /* Info color for new cards */
    --animation-duration: 0.6s;
}

/* Smooth scrolling */
html {
    scroll-behavior: smooth;
}

body {
    font-family: 'Roboto', 'Arial', sans-serif; /* Using Roboto, fallback to Arial */
    background-color: var(--bg-color);
    margin: 0;
    padding: 0;
    color: var(--text-color);
    overflow-x: hidden;
    line-height: 1.7; /* Slightly more line height */
}

h1, h2, h3, h4, h5, h6 {
    color: var(--text-color);
    margin-top: 1.5em;
    margin-bottom: 0.8em;
    font-weight: 600; /* Slightly bolder headings */
}

h2 {
    text-align: center;
    color: var(--primary-darker); /* Darker primary */
    font-size: 1.8em; /* Larger h2 */
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px; /* Gap between icon and text */
}

h2 i { /* Style icons inside h2 */
    width: 28px;
    height: 28px;
    color: var(--primary-color);
}

p {
    margin-bottom: 1.2em; /* More space after paragraphs */
    color: var(--light-text);
}

a {
    color: var(--primary-color);
    text-decoration: none;
    transition: color 0.3s ease;
}

a:hover {
    color: var(--primary-darker);
    text-decoration: none; /* Remove underline globally on hover */
}

img {
    max-width: 100%;
    height: auto;
    display: block;
}

/* --- Header --- */
header {
    background: linear-gradient(135deg, var(--primary-color), var(--primary-darker)); /* Gradient background */
    color: white;
    padding: 20px 0;
    text-align: center;
    border-bottom: 5px solid var(--prime-color); /* Prime color accent */
}

.slider {
    width: 100%;
    max-width: 500px; /* Slightly smaller max-width */
    margin: 0 auto 15px auto; /* Add bottom margin */
    overflow: hidden;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

.slider img {
    width: 100%;
    height: auto;
    display: block;
}

header h1 {
    color: white;
    font-size: 2.2em;
    margin: 15px 0 5px 0;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.4);
    font-weight: 700;
}

header h4 {
    color: rgba(255, 255, 255, 0.9);
    margin: 0 0 20px 0; /* More bottom margin */
    font-weight: 400; /* Lighter weight */
    font-size: 1em;
}

.header-actions {
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap; /* Allow buttons to wrap on smaller screens */
    width: 100%;
    padding: 0 15px;
    margin-top: 15px;
    box-sizing: border-box;
}

/* --- Header Buttons --- */
.civil-button {
    background: var(--prime-color);
    border-radius: 50px; /* Pill shape */
    border: none;
    text-shadow: none;
    box-shadow: 0 4px 10px 0px rgba(0,0,0,0.2);
    padding: 12px 25px; /* Adjusted padding */
    cursor: pointer;
    transition: all 0.3s ease;
    color: var(--text-color); /* Dark text on gold */
    font-size: 1em;
    font-weight: 600;
    display: inline-block;
    text-decoration: none;
}

.civil-button:hover {
    box-shadow: 0 6px 15px 0px rgba(0,0,0,0.3);
    transform: translateY(-2px);
    background-color: #ffcd39; /* Lighter gold on hover */
    color: var(--text-color);
}


/* --- Main Content Wrapper --- */
.content-wrapper {
    max-width: 1140px; /* Standard max width */
    margin: 30px auto; /* More top/bottom margin */
    padding: 0 20px; /* More padding */
}

/* --- Sections Styling --- */
section {
    margin-bottom: 40px; /* More space between sections */
    padding: 25px; /* More padding */
    background-color: var(--card-bg);
    border-radius: 12px; /* More rounded corners */
    box-shadow: 0 4px 15px var(--shadow-color); /* Deeper shadow */
    border: 1px solid var(--border-color);
}

section h2 {
    margin-top: 0;
    margin-bottom: 25px;
    font-size: 1.7em; /* Consistent h2 size */
}

.transparency-section p {
    font-size: 1.1em;
    text-align: center;
    max-width: 800px; /* Limit width for readability */
    margin-left: auto;
    margin-right: auto;
}

/* --- Features Section --- */
.features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); /* Responsive grid */
    gap: 25px; /* More gap */
    margin-top: 25px;
}

.feature {
    background: #f1f8ff; /* Lighter blue background */
    padding: 20px; /* More padding */
    border-radius: 10px;
    text-align: center;
    border: 1px solid #d1e7ff; /* Softer border */
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.feature:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 12px rgba(0, 123, 255, 0.15);
}

.feature h3 {
    color: var(--primary-darker);
    margin-top: 0;
    margin-bottom: 15px;
    font-size: 1.3em;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}
.feature h3 i { /* Icon styling in feature */
    width: 22px;
    height: 22px;
    color: var(--primary-color);
}

.feature p {
    color: var(--light-text);
    font-size: 1em;
    margin-bottom: 0;
}

/* --- Prime Members Section --- */
.prime-members-section h2 {
    text-align: center;
}
.prime-member-list {
    text-align: center;
    font-size: 1.15em; /* Slightly larger */
    line-height: 1.9; /* More line height */
}
.prime-member-list p {
    margin-bottom: 8px;
    color: var(--text-color);
    font-weight: 500; /* Medium weight */
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}
.prime-icon {
    color: var(--prime-color);
    width: 18px;
    height: 18px;
    fill: var(--prime-color); /* Fill star */
}


/* --- Action Cards Section --- */
.action-cards-section h2 {
    text-align: center;
    margin-bottom: 30px; /* More space */
}

.action-cards {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px; /* Consistent gap */
    margin-top: 30px;
}

/* --- Individual Action Card Styling --- */
.action-card {
    background-color: var(--card-bg);
    border-radius: 10px;
    padding: 15px 20px; /* Generous padding */
    text-align: center;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.07); /* Refined shadow */
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    color: var(--primary-color);
    border: 1px solid var(--border-color);
    min-height: 90px; /* Increased min-height */
    overflow: hidden;
}

.action-card:hover {
    transform: translateY(-6px); /* More lift on hover */
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12); /* Stronger hover shadow */
    text-decoration: none;
    color: var(--primary-darker);
}

/* --- Icon Styling (Feather Icons & IMG) --- */
.action-card-icon { /* Style for Feather icons */
    width: 36px;
    height: 56px;
    stroke-width: 1.5px; /* Thinner strokes */
    margin-bottom: 12px;
    color: var(--primary-color);
}
.action-card:hover .action-card-icon {
    color: var(--primary-darker);
}

.action-card-icon-img { /* Style for IMG icons */
    width: 40px;
    height: 40px;
    margin-bottom: 10px;
    object-fit: contain;
}

.action-card span {
    font-size: 1em;
    font-weight: 500;
    line-height: 1.4;
    margin-top: auto;
}

/* --- WhatsApp Card Specific Styling --- */
.action-card.whatsapp-card {
    background-color: var(--secondary-color);
    color: white;
    border-color: var(--secondary-darker);
}
.action-card.whatsapp-card:hover {
    background-color: var(--secondary-darker);
    color: white;
}
.action-card.whatsapp-card span {
    color: white; /* Ensure text is white */
}

/* --- Info Card Styling (Total Members, Total Loan) --- */
.info-card {
    cursor: default; /* Not clickable */
    align-items: center; /* Center items */
    padding: 20px 15px; /* Adjust padding if needed */
    border-left: 4px solid var(--info-color); /* Accent border */
    min-height: 140px; /* Adjust height if needed */
}
.info-card:hover {
     transform: none; /* Disable hover lift for info cards */
     box-shadow: 0 5px 15px rgba(0, 0, 0, 0.07); /* Keep original shadow */
}

.info-card .action-card-icon {
    color: var(--info-color); /* Use info color for icon */
    margin-bottom: 8px;
}
.info-card:hover .action-card-icon {
    color: var(--info-color); /* Keep color on hover */
}

.info-card-label {
    font-size: 0.9em;
    color: var(--light-text);
    margin-bottom: 5px;
    display: block;
}

.info-card-value {
    font-size: 1.6em; /* Larger value text */
    font-weight: 700; /* Bold value */
    color: var(--primary-darker);
    display: block;
    line-height: 1.2;
}

/* Specific style for Total Loan value */
.total-loan-value {
    color: var(--danger-color) !important; /* Red color, important to override */
}

/* Media Queries for Action Cards Layout */
@media (min-width: 768px) {
    .action-cards {
        grid-template-columns: repeat(3, 1fr);
    }
}
@media (min-width: 992px) {
    .action-cards {
        grid-template-columns: repeat(4, 1fr);
        max-width: 900px;
        margin-left: auto;
        margin-right: auto;
    }
}
@media (min-width: 1200px) {
    .action-cards {
         grid-template-columns: repeat(4, 1fr);
         max-width: 1100px;
    }
}


/* --- About Community Letter Slider --- */
.letter-slider-section h2 {
    text-align: center;
}

.slider-container {
    position: relative;
    max-width: 1000px;
    margin: 10px auto;
    overflow: hidden;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    background-color: var(--card-bg);
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

.slides {
    display: flex;
    transition: transform 0.5s ease-in-out;
}

.slide {
    min-width: 100%;
    box-sizing: border-box;
}

.slide img {
    width: 100%;
    display: block;
    border-radius: 8px;
    cursor: pointer; /* Add pointer cursor to indicate it's clickable */
}

.prev, .next {
    cursor: pointer;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: auto;
    padding: 12px 16px;
    color: white;
    font-weight: bold;
    font-size: 24px;
    background-color: rgba(0, 0, 0, 0.5);
    border: none;
    border-radius: 50%;
    user-select: none;
    transition: background-color 0.3s ease;
    line-height: 1;
    z-index: 10;
}
.prev:hover, .next:hover {
     background-color: rgba(0, 0, 0, 0.8);
}

.prev { left: 15px; }
.next { right: 15px; }

.slide-indicator {
    text-align: center;
    margin-top: 15px;
    padding-bottom: 10px;
}

.indicator-dot {
    display: inline-block;
    width: 5px;
    height: 5px;
    background-color: #ccc;
    border-radius: 50%;
    margin: 0 6px;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.3s ease;
}

.indicator-dot.active {
    background-color: var(--primary-color);
    transform: scale(1.2);
}


/* --- Bank Members Section --- */
.bank-members {
    background: linear-gradient(to bottom, #e0f2f7, #ffffff);
    padding: 30px 0;
    width: 100%;
    box-sizing: border-box;
    border-bottom: 1px solid var(--border-color);
}

.header-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 25px 20px 25px;
    flex-wrap: wrap;
    gap: 15px;
    max-width: 1140px;
    margin: 0 auto;
}

.bank-headline {
    font-size: 1.8em;
    font-weight: 700;
    color: var(--primary-darker);
    margin: 0;
    flex-grow: 1;
}

.view-balance {
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
    background-color: var(--card-bg);
    padding: 10px 18px;
    border-radius: 25px;
    font-weight: 600;
    font-size: 1em;
    box-shadow: 0 3px 8px var(--shadow-color);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    color: var(--primary-color);
    border: 1px solid var(--border-color);
}

.view-balance:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 12px rgba(0,0,0,0.15);
    color: var(--primary-darker);
}

.view-balance img.balance-icon {
    width: 24px;
    height: 24px;
}

.member-slider {
    display: flex;
    gap: 20px;
    overflow-x: auto;
    scroll-behavior: smooth;
    padding: 20px 25px;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    scrollbar-color: var(--primary-color) #e0f2f7;
    max-width: 1140px;
    margin: 0 auto;
}

/* Webkit Scrollbar Styles */
.member-slider::-webkit-scrollbar { height: 8px; }
.member-slider::-webkit-scrollbar-track { background: #e0f2f7; border-radius: 4px;}
.member-slider::-webkit-scrollbar-thumb { background-color: var(--primary-color); border-radius: 4px; border: 2px solid #e0f2f7; }
.member-slider::-webkit-scrollbar-thumb:hover { background-color: var(--primary-darker); }


.member-card {
    position: relative;
    background-color: var(--card-bg);
    border-radius: 12px;
    flex: 0 0 145px;
    text-align: center;
    padding: 12px;
    box-shadow: 0 5px 10px var(--shadow-color);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    cursor: pointer;
    border: 1px solid var(--border-color);
    box-sizing: border-box;
    overflow: hidden;
}

.member-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
}

.member-card img {
    width: 100%;
    height: 125px;
    border-radius: 8px;
    object-fit: cover;
    margin-bottom: 12px;
    display: block;
    background-color: #f0f0f0;
    transition: transform 0.3s ease;
}
.member-card:hover img {
    transform: scale(1.05);
}

.member-name {
    font-size: 1em;
    font-weight: 600;
    margin: 8px 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--text-color);
}

.member-balance {
    background-color: var(--primary-color);
    color: white;
    padding: 6px 20px;
    margin-top: 10px;
    border-radius: 5px;
    font-size: 0.85em;
    font-weight: bold;
    display: inline-block;
}

.prime-tag {
    position: absolute;
    top: 120px;
    right: 12px;
    background-color: var(--prime-color);
    color: var(--text-color);
    padding: 4px 9px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: bold;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    line-height: 1;
    z-index: 2;
}

.loading-text, .error-text {
    color: var(--light-text);
    text-align: center;
    width: 100%;
    padding: 30px 20px;
    font-size: 1.1em;
    font-style: italic;
}
.error-text {
    color: var(--danger-color);
    font-weight: bold;
    font-style: normal;
}

/* --- Balance Modal --- */
.modal {
    display: none; /* Hidden by default */
    position: fixed;
    z-index: 1001;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.7); /* Darker overlay */
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    justify-content: center;
    align-items: center;
    opacity: 0;
    transition: opacity 0.4s ease; /* Longer transition */
}

.modal.show {
   display: flex;
   opacity: 1;
}

.modal-content {
    background-color: var(--card-bg);
    padding: 45px; /* More padding */
    border-radius: 15px; /* More rounded */
    width: 90%;
    max-width: 400px; /* Slightly wider */
    text-align: center;
    box-shadow: 0 8px 25px rgba(0,0,0,0.3); /* Stronger shadow */
    position: relative;
    transform: scale(0.9) translateY(20px); /* Start smaller and lower */
    transition: transform 0.4s cubic-bezier(0.18, 0.89, 0.32, 1.28); /* Springy transition */
}

.modal.show .modal-content {
    transform: scale(1) translateY(0); /* Animate to normal size/position */
}

.modal-content h2 {
    margin-top: 0;
    margin-bottom: 30px;
    color: var(--primary-darker);
    font-size: 1.5em;
}

.close {
    position: absolute;
    top: 15px; /* Adjust position */
    right: 15px;
    color: #aaa;
    font-size: 35px;
    font-weight: bold;
    cursor: pointer;
    line-height: 1;
    transition: color 0.3s ease, transform 0.3s ease;
}

.close:hover,
.close:focus {
    color: var(--danger-color);
    transform: rotate(90deg); /* Rotate on hover */
    text-decoration: none;
}

.balance-display {
    font-size: 3em; /* Larger balance */
    font-weight: 700; /* Bolder */
    margin: 30px 0;
    color: var(--success-color);
    display: block;
    letter-spacing: 1.5px;
    font-family: 'Arial', sans-serif; /* Different font for emphasis */
}

/* --- Footer --- */
footer {
    background-color: #343a40; /* Dark grey footer */
    color: #f8f9fa; /* Light text */
    padding: 25px 15px;
    margin-top: 50px;
    font-size: 0.95em;
    text-align: center;
    border-top: 5px solid var(--primary-color); /* Primary color accent */
}

footer p {
    color: #f8f9fa;
    margin: 0;
}

/* --- Image Modal (Full Image View) --- */
.image-modal-overlay {
    display: none;
    position: fixed;
    z-index: 1002;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.92); /* Even darker */
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    justify-content: center;
    align-items: center;
    cursor: pointer;
    padding: 20px;
    box-sizing: border-box;
    opacity: 0;
    transition: opacity 0.4s ease;
}

.image-modal-overlay.show {
    display: flex;
    opacity: 1;
}

.image-modal-content {
    max-width: 100%; /* Allow larger image */
    max-height: 85%;
    object-fit: contain;
    display: block;
    border: 5px solid white; /* Thicker border */
    border-radius: 8px;
    box-shadow: 0 0 30px rgba(0,0,0,0.6);
    transform: scale(0.8); /* Start smaller */
    transition: transform 0.4s ease;
}

.image-modal-overlay.show .image-modal-content {
     transform: scale(1); /* Scale to normal size */
}

.image-modal-close {
    position: absolute;
    top: 25px;
    right: 35px;
    color: #ccc; /* Lighter close button */
    font-size: 45px; /* Larger */
    font-weight: bold;
    cursor: pointer;
    transition: color 0.3s ease, transform 0.3s ease;
    z-index: 1003; /* Ensure it's above image */
}

.image-modal-close:hover {
    color: #fff;
    transform: scale(1.1); /* Scale up on hover */
}

/* --- Scroll Animation --- */
.animate-on-scroll {
    opacity: 0;
    transform: translateY(40px); /* Start further down */
    transition: opacity var(--animation-duration) ease-out, transform var(--animation-duration) ease-out;
}

.animate-on-scroll.is-visible {
    opacity: 1;
    transform: translateY(0);
}

/* --- Responsive Adjustments --- */
@media (min-width: 576px) {
    header h1 { font-size: 2.4em; }
    .member-card { flex: 0 0 200px; } /* Slightly wider cards */
    h2 { font-size: 1.9em; }
}

@media (min-width: 768px) {
    header h1 { font-size: 2.6em; }
    .features { grid-template-columns: repeat(2, 1fr); }
    .member-card { flex: 0 0 210px; }
    h2 { font-size: 2em; }
}

@media (min-width: 992px) {
    .features { grid-template-columns: repeat(4, 1fr); }
    .member-card { flex: 0 0 220px; }
    .balance-display { font-size: 3.2em; }
    h2 { font-size: 2.1em; }
}

@media (min-width: 1200px) {
    .content-wrapper, .header-container, .member-slider { max-width: 1140px; }
    .member-card { flex: 0 0 230px; }
    h2 { font-size: 2.2em; }
}
</style>
<header class="animate-on-scroll">
    <div class="slider">
        <img id="sliderImage" src="https://i.imgur.com/jy7gXWz.png" alt="Community Loan Banner">
    </div>
    <h1>Bank Community Loan</h1>
    <h4>ESTD: 23 June 2024</h4>
    <div class="header-actions">
        <a href="https://bank-community.github.io/Loan-from/chatbot.html" class="civil-button">Bank AI üíª</a>
        <a href="imageupload.html" class="civil-button">Gallery üñºÔ∏è</a>
        <a href="Money_exchange.html" class="civil-button">Return üíµ</a>
    </div>
</header>

<section class="bank-members animate-on-scroll">
    <div class="header-container">
        <h2 class="bank-headline">BANK MEMBERS</h2>
        <div class="view-balance" id="viewBalanceBtn">
            <img src="https://i.imgur.com/TEHsZ32.png" alt="View Balance" class="balance-icon">
            <span>View Balance</span>
        </div>
    </div>
    <div class="member-slider" id="memberContainer">
        <p class="loading-text">Loding...</p>
    </div>
</section>

<div id="balanceModal" class="modal">
    <div class="modal-content">
        <span class="close" id="closeBalanceModal">√ó</span>
        <h2>Available Community Balance</h2>
        <div id="totalBalance" class="balance-display">‚Çπ0</div>
    </div>
</div>

<main class="content-wrapper">
  <section class="transparency-section animate-on-scroll">
    <h2>üìù Transparency info.</h2>
    <p>‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§™‡•Ç‡§∞‡•Ä ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§™‡§æ‡§∞‡§¶‡§∞‡•ç‡§∂‡•Ä ‡§π‡•à‡•§ ‡§Ü‡§™‡§ï‡•á ‡§∏‡§≠‡•Ä ‡§°‡§ø‡§ü‡•á‡§≤‡•ç‡§∏ ‡§î‡§∞ ‡§≤‡•á‡§®-‡§¶‡•á‡§® ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡§π‡§§‡•Ä ‡§π‡•à ‡§î‡§∞ ‡§∏‡§¶‡§∏‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§ï‡§∞‡§æ‡§à ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à‡•§</p>
    <p>‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§ï‡§Æ‡•ç‡§Ø‡•Å‡§®‡§ø‡§ü‡•Ä ‡§Æ‡•á‡§Ç ‡§≤‡•ã‡§ó ‡§Ü‡§™‡§∏ ‡§Æ‡•á‡§Ç ‡§Æ‡§ø‡§≤‡§ï‡§∞ <strong>Bank Community Loan</strong> ‡§Æ‡•á‡§Ç ‡§´‡§Ç‡§° ‡§á‡§ï‡§ü‡•ç‡§†‡§æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§∏‡§≠‡•Ä ‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§•‡•ã‡§°‡§º‡•Ä-‡§•‡•ã‡§°‡§º‡•Ä ‡§∞‡§æ‡§∂‡§ø ‡§ú‡§Æ‡§æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§ú‡§ø‡§∏‡§ï‡•Ä ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§ ‡§∏‡§ø‡§∞‡•ç‡§´ <strong>‚Çπ500/-</strong> ‡§∏‡•á ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§</p>

    <!-- üéß Audio Play Button -->
    <!-- Audio Section Inside Your Transparency Block -->
<div class="audio-wrapper" style="text-align:center; margin-top: 30px;">
  <!-- üéµ Play Button (for repeat only) -->
  <button id="playBtn" class="glow-button">üîÅ ‡§∏‡•Å‡§®‡•á‡§Ç ‡§´‡§ø‡§∞ ‡§∏‡•á</button>

  <!-- Hidden audio player -->
  <audio id="welcomeAudio">
    <source src="speech.wav" type="audio/wav">
    ‡§Ü‡§™‡§ï‡§æ ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§ë‡§°‡§ø‡§Ø‡•ã ‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞‡§§‡§æ‡•§
  </audio>
</div>

<!-- üî• Styling for Button -->
<style>
  .glow-button {
    background: linear-gradient(135deg, #ff4d4d, #ff8c42);
    color: white;
    border: none;
    padding: 14px 26px;
    font-size: 17px;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 0 15px rgba(255, 77, 77, 0.6);
    animation: pulseGlow 1.5s infinite;
    transition: transform 0.3s ease;
  }

  .glow-button:hover {
    transform: scale(1.08);
  }

  @keyframes pulseGlow {
    0% { box-shadow: 0 0 10px rgba(255, 87, 87, 0.5); }
    50% { box-shadow: 0 0 20px rgba(255, 87, 87, 0.9); }
    100% { box-shadow: 0 0 10px rgba(255, 87, 87, 0.5); }
  }
</style>

<!-- üß† Smart Playback Script -->
<script>
  const playBtn = document.getElementById('playBtn');
  const audio = document.getElementById('welcomeAudio');

  // üëâ Manual Play (Repeat Button)
  playBtn.addEventListener('click', () => {
    audio.currentTime = 0;
    audio.play();
  });

  // üîÅ Auto Play on First Interaction (click, scroll, touch)
  const autoPlayOnce = () => {
    audio.play().catch(() => {
      console.log("Audio auto-play blocked until interaction");
    });

    // Remove listeners after first auto-play
    document.removeEventListener('click', autoPlayOnce);
    document.removeEventListener('touchstart', autoPlayOnce);
    document.removeEventListener('scroll', autoPlayOnce);
  };

  // Attach to user interaction
  document.addEventListener('click', autoPlayOnce);
  document.addEventListener('touchstart', autoPlayOnce);
  document.addEventListener('scroll', autoPlayOnce);
</script>

    <section class="action-cards-section animate-on-scroll">
         <h2>Quick Actions</h2>
         <div class="action-cards">
            <div class="action-card info-card animate-on-scroll" id="totalMembersCard">
                <i data-feather="users" class="action-card-icon"></i>
                <span class="info-card-label">All members</span>
                <span class="info-card-value" id="totalMembersValue">--</span>
            </div>

            <div class="action-card info-card animate-on-scroll" id="totalLoanCard" onclick="window.open('https://bank-community.github.io/Loan-from/sip.html')" style="cursor: pointer;">
                <i data-feather="trending-up" class="action-card-icon"></i>
                <span class="info-card-label">
  ‡§ï‡•Å‡§≤ ‡§≤‡•ã‡§® ‡§µ‡§ø‡§§‡§∞‡§ø‡§§ <span style="color: blue; font-weight: bold;">Click here</span>
</span>
                <span class="info-card-value total-loan-value" id="totalLoanValue">‚Çπ--</span>
            </div>

            <a href="https://bank-community.github.io/Loan-from/members.html" class="action-card animate-on-scroll">
                <i data-feather="list" class="action-card-icon"></i>
                <span>All members info</span>
            </a>

            <a href="https://chat.whatsapp.com/G39I0hP55WIDHMu5YkAjDZ" target="_blank" class="action-card whatsapp-card animate-on-scroll">
                 <img src="https://www.svgrepo.com/show/452133/whatsapp.svg" alt="WhatsApp Icon" class="action-card-icon-img">
                 <span>Community group</span>
            </a>

             <a href="https://bank-community.github.io/Loan-from/loan.html" class="action-card animate-on-scroll">
                <i data-feather="file-text" class="action-card-icon"></i>
                <span>Loan form</span>
            </a>

            <a href="https://bank-community.github.io/Loan-from/newbank.html" target="_blank" class="action-card animate-on-scroll">
                <i data-feather="user-plus" class="action-card-icon"></i>
                <span>New join</span>
            </a>
        </div>
    </section>

    <section class="how-it-works animate-on-scroll">
        <h2>üí° ‡§ï‡•à‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à?</h2>
        <div class="features">
            <div class="feature animate-on-scroll">
                <h3><i data-feather="dollar-sign"></i> ‡§´‡§Ç‡§° ‡§ú‡§Æ‡§æ</h3>
                <p>‡§∏‡§≠‡•Ä ‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§Æ‡§ø‡§≤‡§ï‡§∞ ‡§´‡§Ç‡§° ‡§ú‡§Æ‡§æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç<strong> (Every Month SIP)</strong> ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç‡•§</p>
            </div>
            <div class="feature animate-on-scroll">
                <h3><i data-feather="gift"></i> ‡§≤‡•ã‡§® ‡§™‡•ç‡§∞‡§¶‡§æ‡§®</h3>
                <p>‡§ú‡§∞‡•Ç‡§∞‡§§‡§Æ‡§Ç‡§¶ ‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§ï‡•ã ‡§â‡§∏‡•Ä ‡§´‡§Ç‡§° ‡§∏‡•á <strong>‡§≤‡•ã‡§®</strong> ‡§¶‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§</p>
            </div>
            <div class="feature animate-on-scroll">
                <h3><i data-feather="calendar"></i> ‡§≤‡•ã‡§® ‡§Ö‡§µ‡§ß‡§ø</h3>
                <p>‡§≤‡•ã‡§® ‡§ï‡•á‡§µ‡§≤ <strong>1 ‡§Æ‡§π‡•Ä‡§®‡•á</strong> ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡•ã‡§§‡§æ ‡§π‡•à (‡§®‡•ç‡§Ø‡•Ç‡§®‡§§‡§Æ ‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§™‡§∞)‡•§</p>
            </div>
            <div class="feature animate-on-scroll">
                <h3><i data-feather="percent"></i> ‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§¶‡§∞</h3>
                <p>‡§Ö‡§µ‡§ß‡§ø ‡§î‡§∞ ‡§∞‡§æ‡§∂‡§ø ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞ ‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§¶‡§∞‡•á‡§Ç ‡§¨‡§¶‡§≤ ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡§Ç‡•§</p>
            </div>
        </div>
    </section>

    <section class="prime-members-section animate-on-scroll">
        <h2>üëë Prime Members</h2>
        <div class="prime-member-list">
             <p><i data-feather="star" class="prime-icon"></i> Amit kumar</p>
             <p><i data-feather="star" class="prime-icon"></i> Mithlesh sahni</p>
             <p><i data-feather="star" class="prime-icon"></i> Prince rama</p>
        </div>
    </section>

    <section class="letter-slider-section animate-on-scroll">
        <h2><i data-feather="image"></i> About Community Letter</h2>
        <div class="slider-container">
            <div class="slides">
                <div class="slide"><img src="https://i.ibb.co/GQ3WbGqP/1000008561.png" alt="Loan Letter"></div>
                <div class="slide"><img src="https://i.ibb.co/cSckTmKw/1000008651.png" alt="Prime Letter"></div>
                <div class="slide"><img src="https://i.ibb.co/1tLNVJmb/1000008701.png" alt="Join Letter"></div>
            </div>
            <button class="prev" id="prevSlideBtn">‚ùÆ</button>
            <button class="next" id="nextSlideBtn">‚ùØ</button>
        </div>
        <div class="slide-indicator" id="slideIndicator"></div>
    </section>
</main>

<footer>
    <p>¬© <span id="currentYear"></span> ‡§¨‡•à‡§Ç‡§ï ‡§ï‡§Æ‡•ç‡§Ø‡•Å‡§®‡§ø‡§ü‡•Ä ‡§≤‡•ã‡§®. ‡§∏‡§≠‡•Ä ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§.</p>
</footer>

<div id="imageModal" class="image-modal-overlay">
    <span class="image-modal-close" id="closeImageModal">√ó</span>
    <img class="image-modal-content" id="fullImageSrc" alt="Full Size Image">
</div>

<!-- JavaScript ‡§´‡§º‡§æ‡§á‡§≤ ‡§ï‡•ã ‡§Ø‡§π‡§æ‡§Å ‡§≤‡§ø‡§Ç‡§ï ‡§ï‡§∞‡•á‡§Ç -->
<script>
document.addEventListener('DOMContentLoaded', () => {
    // --- Global Variables & Constants ---
    const API_URL = 'https://script.google.com/macros/s/AKfycbz9LCkPR8L3-i7F1KG2KUJ6It2l_p55murljRJ_4108nFysOXUOpG5WEs1sdEaGHq1L7w/exec';
    const DEFAULT_IMAGE = 'https://i.imgur.com/6aATcZR.jpeg'; // Default member image
    const PRIME_MEMBERS = ["Prince rama", "Amit kumar", "Mithlesh sahni"];

    // DOM Elements
    const sliderImageElement = document.getElementById("sliderImage");
    const memberContainer = document.getElementById('memberContainer');
    const balanceModalElement = document.getElementById('balanceModal');
    const viewBalanceBtn = document.getElementById('viewBalanceBtn');
    const totalBalanceElement = document.getElementById('totalBalance');
    const closeBalanceModalBtn = document.getElementById('closeBalanceModal');
    const imageModalElement = document.getElementById('imageModal');
    const fullImageSrcElement = document.getElementById('fullImageSrc');
    const closeImageModalBtn = document.getElementById('closeImageModal');
    const slidesContainer = document.querySelector('.slider-container .slides');
    const slideIndicatorContainer = document.getElementById('slideIndicator');
    const prevSlideBtn = document.getElementById('prevSlideBtn');
    const nextSlideBtn = document.getElementById('nextSlideBtn');
    const totalMembersValueElement = document.getElementById('totalMembersValue');
    const totalLoanValueElement = document.getElementById('totalLoanValue');
    const currentYearElement = document.getElementById('currentYear');

    // State Variables
    let currentHeaderImageIndex = 0;
    let currentSlideIndex = 0;
    let netCommunityBalance = 0;
    let totalSlides = 0;
    let headerImageInterval;

    const headerImages = [
        "https://i.imgur.com/pEWE3nL.png",
        "https://i.imgur.com/FsIMTye.png",
        "https://i.imgur.com/xtqkYZH.png",
        "https://i.imgur.com/jy7gXWz.png"
    ];

    // --- Functions ---

    feather.replace();

    if (currentYearElement) {
        currentYearElement.textContent = new Date().getFullYear();
    }

    function startHeaderSlider() {
        if (!sliderImageElement || headerImages.length <= 1) return;
        if (headerImageInterval) clearInterval(headerImageInterval);

        headerImageInterval = setInterval(() => {
            currentHeaderImageIndex = (currentHeaderImageIndex + 1) % headerImages.length;
            sliderImageElement.style.opacity = 0;
            setTimeout(() => {
                sliderImageElement.src = headerImages[currentHeaderImageIndex];
                sliderImageElement.style.opacity = 1;
            }, 300);
        }, 4000);

        sliderImageElement.style.transition = 'opacity 0.3s ease-in-out';
    }

    function initializeLetterSlider() {
        if (!slidesContainer || !slideIndicatorContainer || !prevSlideBtn || !nextSlideBtn) return;

        const slides = slidesContainer.children;
        totalSlides = slides.length;
        if (totalSlides === 0) return;

        // Add click event to each slide's image to open in modal
        const slideImages = slidesContainer.querySelectorAll('.slide img');
        slideImages.forEach(img => {
            img.onclick = () => showFullImage(img.src, img.alt);
        });

        slideIndicatorContainer.innerHTML = '';
        for (let i = 0; i < totalSlides; i++) {
            const dot = document.createElement('span');
            dot.classList.add('indicator-dot');
            dot.onclick = () => goToSlide(i);
            slideIndicatorContainer.appendChild(dot);
        }

        prevSlideBtn.onclick = prevSlide;
        nextSlideBtn.onclick = nextSlide;
        showSlide(0);
    }

    function showSlide(index) {
        if (!slidesContainer || totalSlides === 0) return;
        currentSlideIndex = (index + totalSlides) % totalSlides;
        slidesContainer.style.transform = `translateX(${-currentSlideIndex * 100}%)`;
        updateDots();
    }

    function prevSlide() { showSlide(currentSlideIndex - 1); }
    function nextSlide() { showSlide(currentSlideIndex + 1); }
    function goToSlide(index) { showSlide(index); }

    function updateDots() {
        const indicatorDots = slideIndicatorContainer.children;
        for (let i = 0; i < indicatorDots.length; i++) {
             indicatorDots[i].classList.toggle('active', i === currentSlideIndex);
        }
    }

    async function fetchMemberData() {
        if (!memberContainer) return;
        memberContainer.innerHTML = '<p class="loading-text">‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...</p>';
        if(totalMembersValueElement) totalMembersValueElement.textContent = '--';
        if(totalLoanValueElement) totalLoanValueElement.textContent = '‚Çπ--';

        try {
            const response = await fetch(API_URL);
            if (!response.ok) {
                 throw new Error(`HTTP error! Status: ${response.status}`);
            }
            const data = await response.json();

            if (!Array.isArray(data)) {
                throw new Error("API ‡§∏‡•á ‡§Ö‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§°‡•á‡§ü‡§æ ‡§™‡•ç‡§∞‡§æ‡§∞‡•Ç‡§™ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§π‡•Å‡§Ü‡•§");
            }
            const validData = data.filter(entry => entry && typeof entry === 'object' && entry.Name && String(entry.Name).trim() !== "");
            
            processMemberData(validData);

        } catch (error) {
            console.error('Error fetching or processing member data:', error);
            if (memberContainer) {
               memberContainer.innerHTML = `<p class="error-text">‚ùå ‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§´‡§≤‡•§<br><small>${error.message}</small><br>‡§ï‡•É‡§™‡§Ø‡§æ ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§</p>`;
            }
            updateTotalBalanceDisplay([]);
            if(totalMembersValueElement) totalMembersValueElement.textContent = '--';
            if(totalLoanValueElement) totalLoanValueElement.textContent = '‚Çπ--';
        }
    }

    function processMemberData(data) {
        const members = {};
        let totalLoanDisbursed = 0;

        data.forEach(entry => {
            const name = String(entry.Name).trim();
            if (!name) return;

            const loanAmount = parseFloat(entry.Loan) || 0;
            const paymentAmount = parseFloat(entry.Payment) || 0;
            const sipAmount = parseFloat(entry["SIP Payment"]) || 0;
            const imageUrl = (typeof entry.imageUrl === 'string' && entry.imageUrl.trim().startsWith('http')) ? entry.imageUrl.trim() : null;

            if (!members[name]) {
                members[name] = { name: String(entry.Name).trim(), totalLoan: 0, totalPayment: 0, totalSIP: 0, imageUrl: null };
            }

            members[name].totalLoan += loanAmount;
            members[name].totalPayment += paymentAmount;
            members[name].totalSIP += sipAmount;
            if (imageUrl) members[name].imageUrl = imageUrl;
            totalLoanDisbursed += loanAmount;
        });

        const memberList = Object.values(members).map(member => {
            const balance = (member.totalSIP + member.totalPayment) - member.totalLoan;
            return {
                ...member,
                balance: balance,
                displayImageUrl: member.imageUrl || DEFAULT_IMAGE
            };
        });

        memberList.sort((a, b) => b.balance - a.balance);

        displayMembers(memberList);
        updateTotalBalanceDisplay(memberList);
        updateInfoCards(memberList.length, totalLoanDisbursed);
    }

    function displayMembers(members) {
        if (!memberContainer) return;
        memberContainer.innerHTML = '';

        if (members.length === 0) {
             memberContainer.innerHTML = '<p class="loading-text">‡§ï‡•ã‡§à ‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ‡•§</p>';
             return;
        }

        members.forEach(member => {
            const card = document.createElement('div');
            card.className = 'member-card animate-on-scroll';

            const isPrime = PRIME_MEMBERS.some(primeName => primeName.trim().toLowerCase() === member.name.trim().toLowerCase());
            const primeTagHTML = isPrime ? '<div class="prime-tag">Prime</div>' : '';
            const formattedBalance = member.balance.toLocaleString('en-IN', { style: 'currency', currency: 'INR' });

            card.innerHTML = `
                ${primeTagHTML}
                <img src="${member.displayImageUrl}" alt="${member.name}" loading="lazy" onerror="this.onerror=null; this.src='${DEFAULT_IMAGE}';">
                <p class="member-name" title="${member.name}">${member.name}</p>
                <p class="member-balance">${formattedBalance}</p>
            `;

            card.onclick = () => showFullImage(member.displayImageUrl, member.name);
            memberContainer.appendChild(card);
        });
        observeElements(memberContainer.querySelectorAll('.animate-on-scroll'));
    }

    function updateInfoCards(memberCount, totalLoan) {
        if (totalMembersValueElement) {
            totalMembersValueElement.textContent = memberCount;
        }
        if (totalLoanValueElement) {
            totalLoanValueElement.textContent = totalLoan.toLocaleString('en-IN', { style: 'currency', currency: 'INR'});
        }
    }

    function showFullImage(imageUrl, altText) {
        if (!imageModalElement || !fullImageSrcElement) return;
        fullImageSrcElement.src = imageUrl;
        fullImageSrcElement.alt = altText;
        imageModalElement.classList.add('show');
        document.body.style.overflow = 'hidden';
    }

    function closeImageModal() {
         if (!imageModalElement) return;
         imageModalElement.classList.remove('show');
         document.body.style.overflow = '';
    }

    function updateTotalBalanceDisplay(memberList) {
        netCommunityBalance = memberList.reduce((sum, member) => sum + member.balance, 0);
    }

    function showBalanceModal() {
        if (!balanceModalElement || !totalBalanceElement) return;
        balanceModalElement.classList.add('show');
        document.body.style.overflow = 'hidden';
        totalBalanceElement.textContent = '‚Çπ0';
        animateValue(totalBalanceElement, 0, netCommunityBalance, 1000);
    }

    function animateValue(element, start, end, duration) {
        let startTimestamp = null;
        const step = (timestamp) => {
            if (!startTimestamp) startTimestamp = timestamp;
            const progress = Math.min((timestamp - startTimestamp) / duration, 1);
            const currentValue = Math.floor(progress * (end - start) + start);
            element.textContent = currentValue.toLocaleString('en-IN', { style: 'currency', currency: 'INR', maximumFractionDigits: 0 });
            if (progress < 1) {
                window.requestAnimationFrame(step);
            } else {
                 element.textContent = end.toLocaleString('en-IN', { style: 'currency', currency: 'INR', maximumFractionDigits: 0 });
            }
        };
        window.requestAnimationFrame(step);
    }

    function closeModal() {
         if (balanceModalElement) {
             balanceModalElement.classList.remove('show');
         }
          document.body.style.overflow = '';
    }

    const observerOptions = {
        root: null,
        rootMargin: '0px 0px -50px 0px',
        threshold: 0.1
    };
    const observerCallback = (entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('is-visible');
                observer.unobserve(entry.target);
            }
        });
    };
    const scrollObserver = new IntersectionObserver(observerCallback, observerOptions);

    function observeElements(elements) {
        if (!elements) return;
        elements.forEach(el => {
             if (el) scrollObserver.observe(el);
        });
    }

    // --- Event Listeners & Initial Calls ---
    fetchMemberData();
    initializeLetterSlider();
    startHeaderSlider();
    observeElements(document.querySelectorAll('.animate-on-scroll'));

    if (viewBalanceBtn) {
        viewBalanceBtn.addEventListener('click', showBalanceModal);
    }
    if (closeBalanceModalBtn) {
        closeBalanceModalBtn.addEventListener('click', closeModal);
    }
    if (balanceModalElement) {
        balanceModalElement.addEventListener('click', (event) => {
            if (event.target === balanceModalElement) closeModal();
        });
    }
    if (imageModalElement) {
         imageModalElement.addEventListener('click', (event) => {
             if (event.target === imageModalElement || event.target === closeImageModalBtn) {
                  closeImageModal();
             }
         });
    }
    window.addEventListener('keydown', (event) => {
        if (event.key === 'Escape') {
            if (balanceModalElement && balanceModalElement.classList.contains('show')) closeModal();
            if (imageModalElement && imageModalElement.classList.contains('show')) closeImageModal();
        }
    });

}); // End DOMContentLoaded</script>

</body>
</html>