<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡§¨‡•à‡§Ç‡§ï ‡§ï‡§Æ‡•ç‡§Ø‡•Å‡§®‡§ø‡§ü‡•Ä ‡§≤‡•ã‡§®</title>
    <link rel="shortcut icon" href="https://i.postimg.cc/XNpR3cN1/20241030-065157.png" type="image/x-icon">
    <link rel="apple-touch-icon" href="https://i.ibb.co/8F6snVv/20241030-065157.png" sizes="180x180">
    <link rel="manifest" href="site.webmanifest">
    <link rel="stylesheet" href="style.css"> </head>
<body>
<style>
/* --- General Styles --- */
:root {
    --primary-color: #007bff;
    --primary-darker: #0056b3;
    --secondary-color: #25D366; /* WhatsApp Green */
    --secondary-darker: #128C7E;
    --text-color: #333;
    --light-text: #333;
    --bg-color: #f4f4f4;
    --card-bg: #ffffff;
    --border-color: #ddd;
    --shadow-color: rgba(0, 0, 0, 0.1);
    --prime-color: #ffc107; /* Prime Gold */
    --danger-color: #dc3545;
    --success-color: #28a745;
}

body {
    font-family: 'Arial', sans-serif; /* More common font */
    background-color: var(--bg-color);
    margin: 0;
    padding: 0;
    color: var(--text-color);
    overflow-x: hidden;
    line-height: 1.6;
}

h1, h2, h3, h4, h5, h6 {
    color: var(--text-color);
    margin-top: 1.5em;
    margin-bottom: 0.8em;
}

h2 {
    text-align: center;
    color: var(--primary-color);
    font-size: 1.6em;
}

p {
    margin-bottom: 1em;
    color: var(--light-text);
}

a {
    color: var(--primary-color);
    text-decoration: none;
    transition: color 0.3s ease;
}

a:hover {
    color: var(--primary-darker);
    text-decoration: underline;
}

img {
    max-width: 100%;
    height: auto;
    display: block; /* Remove extra space */
}

/* --- Header --- */
header {
    background-color: var(--primary-color);
    color: white;
    padding: 15px 0;
    text-align: center;
}

.slider {
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
    overflow: hidden;
}

.slider img {
    width: 100%;
    height: auto;
}

header h1 {
    color: white;
    font-size: 2em; /* Slightly larger */
    margin: 15px 0 5px 0;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
}

header h4 {
    color: rgba(255, 255, 255, 0.9);
    margin: 0 0 15px 0;
    font-weight: normal;
    font-size: 0.9em;
}

.header-action {
    margin-top: 10px;
}

/* --- Civil Button / Header Button --- */
.civil-button {
    background: linear-gradient(140.14deg, #ec540e 15.05%, #d6361f 114.99%) padding-box,
                linear-gradient(142.51deg, #ff9465 8.65%, #af1905 88.82%) border-box;
    border-radius: 7px;
    border: 2px solid transparent;
    text-shadow: 1px 1px 1px #00000040;
    box-shadow: 0 4px 10px 0px #45090059;
    padding: 10px 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    color: white;
    font-size: 1em;
    font-weight: 500;
    display: inline-block;
    text-decoration: none; /* Remove underline from link */
}

.civil-button:hover {
    box-shadow: none;
    opacity: 0.9;
    text-decoration: none; /* Keep underline removed on hover */
    color: white;
}

/* --- Main Content Wrapper --- */
.content-wrapper {
    max-width: 1100px;
    margin: 20px auto;
    padding: 0 15px;
}

/* --- Sections Styling --- */
section {
    margin-bottom: 30px;
    padding: 20px;
    background-color: var(--card-bg);
    border-radius: 8px;
    box-shadow: 0 2px 5px var(--shadow-color);
}

section h2 {
    margin-top: 0;
    margin-bottom: 20px;
    font-size: 1.5em;
}

.intro-section p {
    font-size: 1.1em;
    text-align: center;
}

/* --- Features Section --- */
.features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); /* Responsive grid */
    gap: 20px;
    margin-top: 20px;
}

.feature {
    background: #e7f3ff; /* Light blue background for features */
    padding: 10px;
    border-radius: 8px;
    text-align: center;
    border: 1px solid #cce0ff;
}

.feature h3 {
    color: var(--primary-darker);
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 1.2em;
}

.feature p {
    color: var(--light-text);
    font-size: 0.95em;
    margin-bottom: 0;
}

/* --- Prime Members Section --- */
.prime-members-section h2 {
    text-align: center;
}
.prime-member-list {
    text-align: center;
    font-size: 1.1em;
    line-height: 1.8;
}
.prime-member-list p {
    margin-bottom: 5px;
    color: var(--text-color); /* Darker text for names */
}


/* --- Action Cards Section (Replaces Circle Buttons) --- */
.action-cards-section h2 {
    text-align: center;
    margin-bottom: 25px;
}

.action-cards {
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* Mobile First: ‡§°‡§ø‡§´‡§º‡•â‡§≤‡•ç‡§ü ‡§∞‡•Ç‡§™ ‡§∏‡•á 2 ‡§ï‡•â‡§≤‡§Æ */
    gap: 15px; /* ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§•‡•ã‡§°‡§º‡§æ ‡§ï‡§Æ ‡§ó‡•à‡§™ */
    margin-top: 20px;
    padding: 0 15px; /* ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§™‡§∞ ‡§ï‡§ø‡§®‡§æ‡§∞‡•ã‡§Ç ‡§™‡§∞ ‡§•‡•ã‡§°‡§º‡•Ä ‡§™‡•à‡§°‡§ø‡§Ç‡§ó */
    box-sizing: border-box;
    max-width: 500px; /* ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§™‡§∞ ‡§ó‡•ç‡§∞‡§ø‡§° ‡§ï‡•ã ‡§¨‡§π‡•Å‡§§ ‡§ö‡•å‡§°‡§º‡§æ ‡§π‡•ã‡§®‡•á ‡§∏‡•á ‡§∞‡•ã‡§ï‡•á‡§Ç (Optional) */
    margin-left: auto;  /* ‡§∏‡•á‡§Ç‡§ü‡§∞ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è */
    margin-right: auto; /* ‡§∏‡•á‡§Ç‡§ü‡§∞ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è */
}

/* --- Individual Action Card Styling --- */
.action-card {
    background-color: var(--card-bg);
    border-radius: 10px;
    padding: 20px 10px; /* ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•à‡§°‡§ø‡§Ç‡§ó ‡§è‡§°‡§ú‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç */
    text-align: center;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center; /* ‡§ï‡§Ç‡§ü‡•á‡§Ç‡§ü ‡§ï‡•ã ‡§µ‡§∞‡•ç‡§ü‡§ø‡§ï‡§≤‡•Ä ‡§∏‡•á‡§Ç‡§ü‡§∞ ‡§ï‡§∞‡•á‡§Ç */
    text-decoration: none;
    color: var(--primary-color);
    border: 1px solid var(--border-color);
    min-height: 130px; /* ‡§ï‡§æ‡§∞‡•ç‡§°‡•ç‡§∏ ‡§ï‡•Ä ‡§®‡•ç‡§Ø‡•Ç‡§®‡§§‡§Æ ‡§ä‡§Ç‡§ö‡§æ‡§à ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç */
    overflow: hidden; /* ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§ì‡§µ‡§∞‡§´‡•ç‡§≤‡•ã ‡§ï‡•ã ‡§π‡•à‡§Ç‡§°‡§≤ ‡§ï‡§∞‡•á‡§Ç */
}

.action-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
    text-decoration: none;
    color: var(--primary-darker);
}

/* --- Icon Styling (SVG or IMG) --- */
/* ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç ‡§ï‡§ø ‡§Ü‡§™‡§ï‡•á ‡§Ü‡§á‡§ï‡§® (SVG ‡§Ø‡§æ IMG) ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤ ‡§∏‡§π‡•Ä ‡§π‡•à */
.action-card img,
.action-card svg {
    width: 40px;    /* ‡§Ü‡§á‡§ï‡§® ‡§ï‡•Ä ‡§ö‡•å‡§°‡§º‡§æ‡§à */
    height: 40px;   /* ‡§Ü‡§á‡§ï‡§® ‡§ï‡•Ä ‡§ä‡§Ç‡§ö‡§æ‡§à */
    margin-bottom: 10px; /* ‡§Ü‡§á‡§ï‡§® ‡§î‡§∞ ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§ó‡•à‡§™ */
    object-fit: contain; /* IMG ‡§ï‡•á ‡§≤‡§ø‡§è */
    /* stroke: var(--primary-color); */ /* SVG ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•ç‡§ü‡•ç‡§∞‡•ã‡§ï (‡§Ø‡§¶‡§ø IMG ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à) */
    /* fill: none; */ /* SVG ‡§ï‡•á ‡§≤‡§ø‡§è ‡§´‡§ø‡§≤ (‡§Ø‡§¶‡§ø ‡§∏‡•ç‡§ü‡•ç‡§∞‡•ã‡§ï ‡§µ‡§æ‡§≤‡§æ ‡§Ü‡§á‡§ï‡§® ‡§π‡•à) */
}

/* ‡§π‡•ã‡§µ‡§∞ ‡§™‡§∞ SVG ‡§∏‡•ç‡§ü‡•ç‡§∞‡•ã‡§ï ‡§¨‡§¶‡§≤‡•á‡§Ç (‡§Ø‡§¶‡§ø SVG ‡§π‡•à) */
/* .action-card:hover svg {
     stroke: var(--primary-darker);
} */


.action-card span {
    font-size: 0.95em; /* ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§™‡§∞ ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§∏‡§æ‡§á‡§ú‡§º */
    font-weight: 500;
    line-height: 1.3; /* ‡§¨‡•á‡§π‡§§‡§∞ ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§∞‡•à‡§™‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§≤‡§ø‡§è */
    margin-top: auto; /* ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§ï‡•ã ‡§•‡•ã‡§°‡§º‡§æ ‡§®‡•Ä‡§ö‡•á ‡§™‡•Å‡§∂ ‡§ï‡§∞‡•á‡§Ç ‡§Ø‡§¶‡§ø ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•ã */
}

/* --- WhatsApp Card Specific Styling --- */
.action-card.whatsapp-card {
    background-color: var(--secondary-color); /* ‡§π‡§∞‡§æ ‡§∞‡§Ç‡§ó */
    color: white; /* ‡§∏‡§´‡•á‡§¶ ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü */
    border-color: var(--secondary-color);
}

.action-card.whatsapp-card:hover {
    background-color: var(--secondary-darker); /* ‡§ó‡§π‡§∞‡§æ ‡§π‡§∞‡§æ ‡§∞‡§Ç‡§ó ‡§π‡•ã‡§µ‡§∞ ‡§™‡§∞ */
    color: white;
}

/* WhatsApp IMG ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•ç‡§™‡•á‡§∏‡§ø‡§´‡§ø‡§ï ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤ (Optional) */
.action-card.whatsapp-card img {
    /* ‡§Ø‡§¶‡§ø WhatsApp ‡§Ü‡§á‡§ï‡§® IMG ‡§π‡•à ‡§î‡§∞ ‡§â‡§∏‡•á ‡§Ö‡§≤‡§ó ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤ ‡§ö‡§æ‡§π‡§ø‡§è */
}

/* WhatsApp inline SVG ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•ç‡§™‡•á‡§∏‡§ø‡§´‡§ø‡§ï ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤ (‡§Ø‡§¶‡§ø IMG ‡§ï‡•Ä ‡§ú‡§ó‡§π SVG ‡§π‡•à) */
/* .action-card.whatsapp-card svg {
    fill: white;
    stroke: none;
} */


/* --- Media Query for Larger Screens (Tablets and Desktops) --- */
/* 768px ‡§Ø‡§æ ‡§â‡§∏‡§∏‡•á ‡§¨‡§°‡§º‡•Ä ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§ï‡•á ‡§≤‡§ø‡§è */
@media (min-width: 768px) {
    .action-cards {
        /* ‡§≤‡•á‡§Ü‡§â‡§ü ‡§ï‡•ã 4 ‡§ï‡•â‡§≤‡§Æ ‡§Æ‡•á‡§Ç ‡§¨‡§¶‡§≤‡•á‡§Ç */
        grid-template-columns: repeat(4, 1fr);
        gap: 20px; /* ‡§ó‡•à‡§™ ‡§¨‡§¢‡§º‡§æ‡§è‡§Ç */
        padding: 0; /* ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§µ‡§æ‡§≤‡•Ä ‡§∏‡§æ‡§á‡§° ‡§™‡•à‡§°‡§ø‡§Ç‡§ó ‡§π‡§ü‡§æ‡§è‡§Ç */
        max-width: 800px; /* ‡§¨‡•ú‡•Ä ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§ß‡§ø‡§ï‡§§‡§Æ ‡§ö‡•å‡•ú‡§æ‡§à */
    }

    .action-card {
        padding: 25px 15px; /* ‡§ì‡§∞‡§ø‡§ú‡§ø‡§®‡§≤ ‡§™‡•à‡§°‡§ø‡§Ç‡§ó ‡§µ‡§æ‡§™‡§∏ ‡§≤‡§æ‡§è‡§Ç */
        min-height: 140px; /* ‡§¨‡•ú‡•Ä ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§™‡§∞ ‡§•‡•ã‡•ú‡•Ä ‡•õ‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§ä‡§Ç‡§ö‡§æ‡§à */
    }

    .action-card span {
        font-size: 1em; /* ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§∏‡§æ‡§á‡•õ ‡§®‡•â‡§∞‡•ç‡§Æ‡§≤ ‡§ï‡§∞‡•á‡§Ç */
    }
}

/* Optional: ‡§î‡§∞ ‡§¨‡•ú‡•Ä ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§ï‡•á ‡§≤‡§ø‡§è */
@media (min-width: 992px) {
    .action-cards {
        max-width: 900px; /* ‡§Ø‡§¶‡§ø ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§π‡•ã ‡§§‡•ã ‡§ö‡•å‡§°‡§º‡§æ‡§à ‡§∏‡§Æ‡§æ‡§Ø‡•ã‡§ú‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç */
    }
}





/* --- Loan Calculator & Feedback Form Shared Styles --- */
.loan-calculator, .feedback-form {
    background: var(--card-bg);
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    margin: 30px auto; /* Center align */
    max-width: 550px; /* Max width */
    border: 1px solid var(--border-color);
}

.loan-calculator h2, .feedback-form h2 {
    text-align: center;
    margin-top: 0;
    margin-bottom: 25px;
    color: var(--primary-darker);
}

.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: var(--text-color);
    font-size: 0.95em;
}

.loan-calculator input[type="number"],
.loan-calculator select,
.feedback-form input[type="text"],
.feedback-form input[type="email"],
.feedback-form textarea {
    width: 100%;
    padding: 12px 15px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    box-sizing: border-box;
    font-size: 1em;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

.loan-calculator input[type="number"]:focus,
.loan-calculator select:focus,
.feedback-form input[type="text"]:focus,
.feedback-form input[type="email"]:focus,
.feedback-form textarea:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25);
    outline: none;
}

.feedback-form textarea {
    resize: vertical; /* Allow vertical resize only */
    min-height: 100px;
}

/* --- General Button Style (for Calculator/Feedback) --- */
.general-button {
    background-color: var(--primary-color);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 1.05em;
    font-weight: 500;
    transition: background-color 0.3s ease, transform 0.2s ease;
    display: inline-block;
    width: auto;
    text-align: center;
}

.general-button:hover {
    background-color: var(--primary-darker);
    transform: translateY(-2px);
}
.general-button:active {
    transform: translateY(0);
}

.loan-calculator .calculate-btn,
.feedback-form .submit-btn {
    display: block; /* Make button full width */
    width: 100%;
    margin-top: 10px;
}

#loanResult {
    margin-top: 20px;
    font-weight: bold;
    color: var(--primary-darker);
    text-align: center;
    font-size: 1.1em;
    min-height: 1.5em; /* Prevent layout shift */
    background-color: #e7f3ff;
    padding: 10px;
    border-radius: 5px;
}
#loanResult:empty {
    padding: 0; /* Hide background if empty */
    background-color: transparent;
}


/* --- About Community Letter Slider --- */
.letter-slider-section h2 {
    text-align: center;
}

.slider-container {
    position: relative;
    max-width: 450px; /* Slightly wider */
    margin: 20px auto;
    overflow: hidden;
    border: 1px solid var(--border-color);
    border-radius: px;
    background-color: var(--card-bg);
}

.slides {
    display: flex;
    transition: transform 0.5s ease-in-out;
}

.slide {
    min-width: 100%;
    box-sizing: border-box;
}

.slide img {
    width: 100%;
    display: block;
    border-radius: px; /* Match container radius */
}

.prev, .next {
    cursor: pointer;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: auto;
    padding: 10px 14px; /* Adjusted padding */
    color: white;
    font-weight: bold;
    font-size: 22px;
    background-color: rgba(0, 0, 0, 0.45);
    border: none;
    border-radius: 50%; /* Make buttons circular */
    user-select: none;
    transition: background-color 0.3s ease;
    line-height: 1;
}
.prev:hover, .next:hover {
     background-color: rgba(0, 0, 0, 0.7);
}

.prev { left: 15px; }
.next { right: 15px; }

.slide-indicator {
    text-align: center;
    margin-top: 15px;
}

.indicator-dot {
    display: inline-block;
    width: 10px;
    height: 10px;
    background-color: #bbb;
    border-radius: 50%;
    margin: 0 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.indicator-dot.active {
    background-color: var(--primary-color); /* Use primary color for active dot */
}


/* --- Bank Members Section --- */
.bank-members {
    background: linear-gradient(to bottom, #e0f7fa, #f0fafa); /* Light cyan gradient */
    padding: 25px 0; /* Increased padding */
    margin-top: 0; /* Remove top margin if it follows header directly */
    width: 100%;
    box-sizing: border-box;
}

.header-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px 15px 20px; /* More padding */
    flex-wrap: wrap;
    gap: 10px; /* Add gap for wrapping */
    max-width: 1100px; /* Limit width */
    margin: 0 auto; /* Center container */
}

.bank-headline {
    font-size: 1.6em;
    font-weight: bold;
    color: var(--primary-darker); /* Darker blue */
    margin: 0;
    flex-grow: 1;
}

.view-balance {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    background-color: var(--card-bg);
    padding: 8px 15px;
    border-radius: 20px;
    font-weight: bold;
    font-size: 0.95em;
    box-shadow: 0 2px 6px var(--shadow-color);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    color: var(--text-color);
    border: 1px solid #eee;
}

.view-balance:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
}

.view-balance img.balance-icon {
    width: 22px;
    height: 22px;
}

.member-slider {
    display: flex;
    gap: 15px; /* Increased space */
    overflow-x: auto;
    scroll-behavior: smooth;
    padding: 15px 20px; /* More padding */
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    scrollbar-color: var(--primary-color) #e0f7fa;
    max-width: 1100px; /* Limit width */
    margin: 0 auto; /* Center container */
}

.member-slider::-webkit-scrollbar { height: 6px; }
.member-slider::-webkit-scrollbar-track { background: #e0f7fa; border-radius: 3px;}
.member-slider::-webkit-scrollbar-thumb { background-color: var(--primary-color); border-radius: 3px; }

.member-card {
    position: relative;
    background-color: var(--card-bg);
    border-radius: 10px;
    flex: 0 0 160px; /* Default width */
    text-align: center;
    padding: 12px; /* Adjusted padding */
    box-shadow: 0 4px 8px var(--shadow-color);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    cursor: pointer;
    border: 1px solid #eee;
    box-sizing: border-box;
}

.member-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.member-card img {
    width: 100%;
    height: 130px; /* Slightly taller */
    border-radius: 8px;
    object-fit: cover;
    margin-bottom: 10px;
    display: block;
    background-color: #f0f0f0; /* Placeholder bg */
}

.member-name {
    font-size: 0.95em;
    font-weight: 600; /* Slightly bolder */
    margin: 5px 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--text-color);
}

.member-balance {
    background-color: var(--primary-color);
    color: white;
    padding: 5px 10px; /* More padding */
    margin-top: 8px;
    border-radius: 15px; /* Pill shape */
    font-size: 0.8em;
    font-weight: bold;
    display: inline-block;
}

.prime-tag {
    position: absolute;
    top: 8px; /* Position near top right */
    right: 8px;
    background-color: var(--prime-color);
    color: var(--text-color); /* Dark text on gold */
    padding: 3px 8px;
    border-radius: 4px;
    font-size: 10px;
    font-weight: bold;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    line-height: 1; /* Adjust line height */
    z-index: 2; /* Ensure it's above image */
}

.loading-text {
    color: var(--light-text);
    text-align: center;
    width: 100%;
    padding: 20px;
}

/* --- Balance Modal --- */
.modal {
    display: none;
    position: fixed;
    z-index: 1001;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.6); /* Darker overlay */
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    justify-content: center;
    align-items: center;
    opacity: 0; /* Start hidden for transition */
    transition: opacity 0.3s ease;
}

.modal.show { /* Class to trigger fade-in */
   display: flex;
   opacity: 1;
}


.modal-content {
    background-color: var(--card-bg);
    padding: 30px; /* More padding */
    border-radius: 12px;
    width: 90%;
    max-width: 380px;
    text-align: center;
    box-shadow: 0 5px 20px rgba(0,0,0,0.25);
    position: relative;
    transform: scale(0.95); /* Start slightly small for transition */
    transition: transform 0.3s ease;
}

.modal.show .modal-content {
    transform: scale(1); /* Scale to normal size */
}

.modal-content h2 {
    margin-top: 0;
    margin-bottom: 25px;
    color: var(--primary-darker);
    font-size: 1.4em;
}

.close {
    position: absolute;
    top: 10px;
    right: 15px;
    color: #aaa;
    font-size: 32px; /* Larger close icon */
    font-weight: bold;
    cursor: pointer;
    line-height: 1;
    transition: color 0.3s ease;
}

.close:hover,
.close:focus {
    color: var(--danger-color); /* Red on hover */
    text-decoration: none;
}

.balance-display {
    font-size: 2.8em; /* Larger balance */
    font-weight: bold;
    margin: 25px 0;
    color: var(--success-color); /* Green */
    display: block;
    letter-spacing: 1px; /* Add some letter spacing */
}


/* --- Footer --- */
footer {
    background-color: var(--primary-darker); /* ‡§´‡•Å‡§ü‡§∞ ‡§ï‡§æ ‡§¨‡•à‡§ï‡§ó‡•ç‡§∞‡§æ‡§â‡§Ç‡§° ‡§∞‡§Ç‡§ó (‡§ú‡•à‡§∏‡•á ‡§ó‡§π‡§∞‡§æ ‡§®‡•Ä‡§≤‡§æ) */
    color: #ffffff; /* ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§ï‡§æ ‡§∞‡§Ç‡§ó ‡§∏‡§´‡§º‡•á‡§¶ */
    padding: 20px 15px; /* ‡§ä‡§™‡§∞/‡§®‡•Ä‡§ö‡•á ‡§î‡§∞ ‡§¶‡§æ‡§è‡§Ç/‡§¨‡§æ‡§è‡§Ç ‡§™‡•à‡§°‡§ø‡§Ç‡§ó */
    margin-top: 40px;  /* ‡§´‡•Å‡§ü‡§∞ ‡§ï‡•á ‡§ä‡§™‡§∞ ‡§Æ‡§æ‡§∞‡•ç‡§ú‡§ø‡§® */
    font-size: 0.9em;   /* ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§ï‡§æ ‡§∏‡§æ‡§á‡§ú‡§º */
    text-align: center; /* ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§ï‡•ã ‡§∏‡•á‡§Ç‡§ü‡§∞ ‡§Æ‡•á‡§Ç ‡§ï‡§∞‡•á‡§Ç */
}

/* ‡§Ø‡§π ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§ø <p> ‡§ü‡•à‡§ó ‡§≠‡•Ä ‡§∏‡§´‡§º‡•á‡§¶ ‡§∞‡§Ç‡§ó ‡§≤‡•á */
footer p {
    color: #ffffff; /* ‡§™‡•à‡§∞‡§æ‡§ó‡•ç‡§∞‡§æ‡§´ ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§ï‡§æ ‡§∞‡§Ç‡§ó ‡§∏‡§´‡§º‡•á‡§¶ */
    margin: 0; /* ‡§™‡•à‡§∞‡§æ‡§ó‡•ç‡§∞‡§æ‡§´ ‡§ï‡§æ ‡§°‡§ø‡§´‡§º‡•â‡§≤‡•ç‡§ü ‡§Æ‡§æ‡§∞‡•ç‡§ú‡§ø‡§® ‡§π‡§ü‡§æ‡§è‡§Ç */
}


/* --- Image Modal (Full Image View) --- */
.image-modal-overlay {
    display: none; /* Hidden by default */
    position: fixed;
    z-index: 1002; /* Above balance modal */
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.9);
    backdrop-filter: blur(3px);
    -webkit-backdrop-filter: blur(3px);
    justify-content: center;
    align-items: center;
    cursor: pointer;
    padding: 20px;
    box-sizing: border-box;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.image-modal-overlay.show {
    display: flex;
    opacity: 1;
}


.image-modal-content {
    max-width: 90%;
    max-height: 80%;
    object-fit: contain;
    display: block;
    border: 4px solid white;
    border-radius: 5px;
    box-shadow: 0 0 25px rgba(0,0,0,0.5);
    transform: scale(0.9);
    transition: transform 0.3s ease;
}

.image-modal-overlay.show .image-modal-content {
     transform: scale(1);
}


#imageModalCaption {
    margin-top: 15px;
    color: white;
    font-size: 1.2em;
    text-align: center;
}

.image-modal-close {
    position: absolute;
    top: 20px;
    right: 30px;
    color: #fff;
    font-size: 40px;
    font-weight: bold;
    cursor: pointer;
    transition: color 0.3s ease;
}

.image-modal-close:hover {
    color: #bbb;
}


/* --- Responsive Adjustments --- */

/* Small devices (landscape phones, 576px and up) */
@media (min-width: 576px) {
    header h1 { font-size: 2.2em; }
    .member-card { flex: 0 0 180px; } /* Slightly wider cards */
     .action-cards { grid-template-columns: repeat(2, 1fr); } /* 2 columns */
}

/* Medium devices (tablets, 768px and up) */
@media (min-width: 768px) {
    header h1 { font-size: 2.5em; }
    .features { grid-template-columns: repeat(2, 1fr); } /* 2 columns */
    .member-card { flex: 0 0 200px; }
    .action-cards { grid-template-columns: repeat(4, 1fr); } /* 4 columns */
    .loan-calculator, .feedback-form { padding: 30px; }
}

/* Large devices (desktops, 992px and up) */
@media (min-width: 992px) {
    .features { grid-template-columns: repeat(4, 1fr); } /* 4 columns */
    .member-card { flex: 0 0 210px; }
    .balance-display { font-size: 3em; }
}

/* Extra large devices (large desktops, 1200px and up) */
@media (min-width: 1200px) {
    .content-wrapper, .header-container, .member-slider { max-width: 1140px; } /* Max container width */
    .member-card { flex: 0 0 220px; }
}
</style>
<header>
    <div class="slider">
        <img id="sliderImage" src="https://i.imgur.com/jy7gXWz.png" alt="Community Loan Banner">
    </div>

    <h1>Bank Community Loan</h1>
    <h4>ESTD: 23 ‡§ú‡•Ç‡§® 2024</h4>

    <div class="header-action">
        <a href="https://bank-community.github.io/Loan-from/members.html" class="civil-button">ALL MEMBERS</a>
    </div>
</header>

<div class="bank-members">
    <div class="header-container">
        <h2 class="bank-headline">BANK MEMBERS</h2>
        <div class="view-balance" id="viewBalanceBtn">
            <img src="https://i.imgur.com/TEHsZ32.png" alt="View Balance" class="balance-icon">
            <span>View Balance</span>
        </div>
    </div>
    <div class="member-slider" id="memberContainer">
        <p class="loading-text">Loading members...</p>
    </div>
</div>

<div id="balanceModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>Available Community Balance</h2>
        <div id="totalBalance" class="balance-display">‚Çπ0</div>
    </div>
</div>

<main class="content-wrapper">
    <section class="intro-section">
        <p>‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§ï‡§Æ‡•ç‡§Ø‡•Å‡§®‡§ø‡§ü‡•Ä ‡§Æ‡•á‡§Ç ‡§≤‡•ã‡§ó ‡§Ü‡§™‡§∏ ‡§Æ‡•á‡§Ç ‡§Æ‡§ø‡§≤‡§ï‡§∞ <strong>Bank Community Loan</strong> ‡§Æ‡•á‡§Ç ‡§´‡§Ç‡§° ‡§á‡§ï‡§ü‡•ç‡§†‡§æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§∏‡§≠‡•Ä ‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§•‡•ã‡§°‡§º‡•Ä-‡§•‡•ã‡§°‡§º‡•Ä ‡§∞‡§æ‡§∂‡§ø ‡§ú‡§Æ‡§æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§ú‡§ø‡§∏‡§ï‡•Ä ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§ ‡§∏‡§ø‡§∞‡•ç‡§´ <strong>‚Çπ500/-</strong> ‡§∏‡•á ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§</p>
    </section>

    <section class="how-it-works">
        <h2>üí° ‡§ï‡•à‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à?</h2>
        <div class="features">
            <div class="feature">
                <h3>‡§´‡§Ç‡§° ‡§ú‡§Æ‡§æ</h3>
                <p>‡§∏‡§≠‡•Ä ‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§Æ‡§ø‡§≤‡§ï‡§∞ ‡§´‡§Ç‡§° ‡§ú‡§Æ‡§æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç (SIP ‡§î‡§∞ Payment)‡•§</p>
            </div>
            <div class="feature">
                <h3>‡§≤‡•ã‡§® ‡§™‡•ç‡§∞‡§¶‡§æ‡§®</h3>
                <p>‡§ú‡§∞‡•Ç‡§∞‡§§‡§Æ‡§Ç‡§¶ ‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§ï‡•ã ‡§â‡§∏‡•Ä ‡§´‡§Ç‡§° ‡§∏‡•á <strong>‡§≤‡•ã‡§®</strong> ‡§¶‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§</p>
            </div>
            <div class="feature">
                <h3>‡§≤‡•ã‡§® ‡§Ö‡§µ‡§ß‡§ø</h3>
                <p>‡§≤‡•ã‡§® ‡§ï‡•á‡§µ‡§≤ <strong>1 ‡§Æ‡§π‡•Ä‡§®‡•á</strong> ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡•ã‡§§‡§æ ‡§π‡•à (‡§®‡•ç‡§Ø‡•Ç‡§®‡§§‡§Æ ‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§™‡§∞)‡•§</p>
            </div>
            <div class="feature">
                <h3>‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§¶‡§∞</h3>
                <p>‡§Ö‡§µ‡§ß‡§ø ‡§î‡§∞ ‡§∞‡§æ‡§∂‡§ø ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞ ‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§¶‡§∞‡•á‡§Ç ‡§¨‡§¶‡§≤ ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡§Ç‡•§</p>
            </div>
        </div>
    </section>

    <section class="prime-members-section">
        <h2>üëë Prime Members</h2>
        <div class="prime-member-list">
             <p>üëâ Amit kumar</p>
             <p>üëâ Mithlesh sahani</p>
             <p>üëâ Prince rama</p>
        </div>
    </section>

     <section class="transparency-section">
        <h2>üìù ‡§™‡§æ‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§‡§æ ‡§î‡§∞ ‡§∏‡•Ç‡§ö‡§®‡§æ</h2>
        <p>‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§™‡•Ç‡§∞‡•Ä ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§™‡§æ‡§∞‡§¶‡§∞‡•ç‡§∂‡•Ä ‡§π‡•à‡•§ ‡§Ü‡§™‡§ï‡•á ‡§∏‡§≠‡•Ä ‡§°‡§ø‡§ü‡•á‡§≤‡•ç‡§∏ ‡§î‡§∞ ‡§≤‡•á‡§®-‡§¶‡•á‡§® ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡§π‡§§‡•Ä ‡§π‡•à ‡§î‡§∞ ‡§∏‡§¶‡§∏‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§ï‡§∞‡§æ‡§à ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à‡•§</p>
    </section>

    <section class="action-cards-section">
         <h2>Quick Actions</h2>
         <div class="action-cards">
            <a href="https://bank-community.github.io/Loan-from/members.html" class="action-card">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                <span>Members</span>
            </a>
                                    <a href="https://chat.whatsapp.com/G39I0hP55WIDHMu5YkAjDZ" target="_blank" class="action-card whatsapp-card">
                 <img src="https://www.svgrepo.com/show/452133/whatsapp.svg" alt="WhatsApp Icon" width="40" height="40">
                 <span>WhatsApp</span>
            </a>


             <a href="https://bank-community.github.io/Loan-from/loan.html" class="action-card">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                <span>Loan Form</span>
            </a>
            <a href="https://codepen.io/Vk-T/full/azbEeba" target="_blank" class="action-card">
                 <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user-plus"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="17" y1="11" x2="23" y2="11"></line></svg>
                <span>New Join</span>
            </a>
        </div>
    </section>

    <section class="loan-calculator-section">
        <div class="loan-calculator">
            <h2>‡§≤‡•ã‡§® ‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞ (‡§â‡§¶‡§æ‡§π‡§∞‡§£)</h2>
            <div class="form-group">
                <label for="loanAmount">‡§≤‡•ã‡§® ‡§∞‡§æ‡§∂‡§ø (‚Çπ):</label>
                <input type="number" id="loanAmount" placeholder="‡§ú‡•à‡§∏‡•á: 5000">
            </div>
            <div class="form-group">
                 <label for="interestRate">‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§¶‡§∞ ‡§î‡§∞ ‡§Ö‡§µ‡§ß‡§ø:</label>
                 <select id="interestRate">
                    <option value="1">1 ‡§Æ‡§π‡•Ä‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è 1% ‡§¨‡•ç‡§Ø‡§æ‡§ú</option>
                    <option value="3">2 ‡§Æ‡§π‡•Ä‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è 3% ‡§¨‡•ç‡§Ø‡§æ‡§ú</option>
                    <option value="5">3 ‡§Æ‡§π‡•Ä‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è 5% ‡§¨‡•ç‡§Ø‡§æ‡§ú</option>
                 </select>
            </div>
            <button class="general-button calculate-btn" onclick="calculateLoan()">‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç</button>
            <p id="loanResult"></p>
        </div>
    </section>

    <section class="feedback-section">
        <div class="feedback-form">
            <h2>‡§´‡•Ä‡§°‡§¨‡•à‡§ï ‡§¶‡•á‡§Ç</h2>
            <form action="https://formspree.io/f/xvgkokge" method="POST">
                 <div class="form-group">
                     <label for="name">‡§®‡§æ‡§Æ:</label>
                     <input type="text" id="name" name="name" placeholder="‡§Ü‡§™‡§ï‡§æ ‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ" required>
                 </div>
                 <div class="form-group">
                     <label for="email">‡§à‡§Æ‡•á‡§≤:</label>
                     <input type="email" id="email" name="email" placeholder="‡§Ü‡§™‡§ï‡§æ ‡§à‡§Æ‡•á‡§≤ ‡§™‡§§‡§æ" required>
                 </div>
                 <div class="form-group">
                     <label for="message">‡§∏‡§Ç‡§¶‡•á‡§∂:</label>
                     <textarea id="message" name="message" placeholder="‡§Ü‡§™‡§ï‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§Ø‡§π‡§æ‡§Å ‡§≤‡§ø‡§ñ‡•á‡§Ç..." required rows="5"></textarea>
                 </div>
                <button type="submit" class="general-button submit-btn">Submit</button>
            </form>
        </div>
    </section>

    <section class="letter-slider-section">
        <h2>About Community Letter</h2>
        <div class="slider-container">
            <div class="slides">
                <div class="slide"><img src="https://i.imgur.com/6x6AuuN.png" alt="Loan Letter"></div>
                <div class="slide"><img src="https://i.imgur.com/fUMEyY9.png" alt="Prime Letter"></div>
                <div class="slide"><img src="https://i.imgur.com/ZsvB26M.png" alt="Join Letter"></div>
            </div>
            <button class="prev" onclick="prevSlide()">&#10094;</button>
            <button class="next" onclick="nextSlide()">&#10095;</button>
        </div>
        <div class="slide-indicator">
            <span class="indicator-dot active" onclick="goToSlide(0)"></span>
            <span class="indicator-dot" onclick="goToSlide(1)"></span>
            <span class="indicator-dot" onclick="goToSlide(2)"></span>
        </div>
    </section>
</main>

<footer>
    <p>&copy; 2025 ‡§¨‡•à‡§Ç‡§ï ‡§ï‡§Æ‡•ç‡§Ø‡•Å‡§®‡§ø‡§ü‡•Ä ‡§≤‡•ã‡§®. ‡§∏‡§≠‡•Ä ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§.</p>
</footer>

<div id="imageModal" class="image-modal-overlay" onclick="closeImageModal()">
    <span class="image-modal-close">&times;</span>
    <img class="image-modal-content" id="fullImageSrc">
    <div id="imageModalCaption"></div>
</div>


<script> // --- Global Variables & Constants ---
const API_URL = 'https://script.google.com/macros/s/AKfycbz9LCkPR8L3-i7F1KG2KUJ6It2l_p55murljRJ_4108nFysOXUOpG5WEs1sdEaGHq1L7w/exec';
const DEFAULT_IMAGE = 'https://i.imgur.com/6aATcZR.jpeg'; // Default member image
const PRIME_MEMBERS = ["Prince rama", "Amit kumar", "Mithlesh sahni"]; // List of prime members

// DOM Elements
const sliderImageElement = document.getElementById("sliderImage");
const memberContainer = document.getElementById('memberContainer');
const balanceModalElement = document.getElementById('balanceModal');
const viewBalanceBtn = document.getElementById('viewBalanceBtn');
const totalBalanceElement = document.getElementById('totalBalance');
const imageModalElement = document.getElementById('imageModal');
const fullImageSrcElement = document.getElementById('fullImageSrc');
const imageModalCaptionElement = document.getElementById('imageModalCaption');
const loanAmountInput = document.getElementById('loanAmount');
const interestRateSelect = document.getElementById('interestRate');
const loanResultElement = document.getElementById('loanResult');
const slidesContainer = document.querySelector('.slider-container .slides');
const indicatorDots = document.querySelectorAll('.indicator-dot');

// State Variables
let currentHeaderImageIndex = 0;
let currentSlideIndex = 0;
let netCommunityBalance = 0;
const totalSlides = slidesContainer ? slidesContainer.children.length : 0;

// Header Images
const headerImages = [
    "https://i.imgur.com/pEWE3nL.png",
    "https://i.imgur.com/FsIMTye.png",
    "https://i.imgur.com/xtqkYZH.png",
    "https://i.imgur.com/jy7gXWz.png" // Added original banner too
];

// --- Functions ---

// Header Image Slider
function changeHeaderImage() {
    if (!sliderImageElement || headerImages.length <= 1) return;
    currentHeaderImageIndex = (currentHeaderImageIndex + 1) % headerImages.length;
    sliderImageElement.src = headerImages[currentHeaderImageIndex];
}

// Loan Calculator
function calculateLoan() {
    const loanAmount = parseFloat(loanAmountInput.value);
    const interestRate = parseFloat(interestRateSelect.value);

    if (isNaN(loanAmount) || loanAmount <= 0) {
        loanResultElement.innerText = "‡§ï‡•É‡§™‡§Ø‡§æ ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§≤‡•ã‡§® ‡§∞‡§æ‡§∂‡§ø ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§";
        loanResultElement.style.color = 'var(--danger-color)'; // Use danger color for error
        return;
    }
    if (isNaN(interestRate)) {
         loanResultElement.innerText = "‡§ï‡•É‡§™‡§Ø‡§æ ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§¶‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç‡•§";
         loanResultElement.style.color = 'var(--danger-color)';
         return;
    }

    const interest = (loanAmount * interestRate) / 100;
    const totalAmount = loanAmount + interest;
    loanResultElement.innerText = `‡§ï‡•Å‡§≤ ‡§ö‡•Å‡§ï‡•å‡§§‡•Ä ‡§∞‡§æ‡§∂‡§ø: ‚Çπ${totalAmount.toFixed(2)} (‡§¨‡•ç‡§Ø‡§æ‡§ú: ‚Çπ${interest.toFixed(2)})`;
    loanResultElement.style.color = 'var(--primary-darker)'; // Reset to normal color
}

// About Letter Slider
function showSlide(index) {
    if (!slidesContainer || totalSlides === 0) return;
    currentSlideIndex = (index + totalSlides) % totalSlides; // Ensure index is within bounds
    slidesContainer.style.transform = `translateX(${-currentSlideIndex * 100}%)`;
    updateDots();
}

function prevSlide() { showSlide(currentSlideIndex - 1); }
function nextSlide() { showSlide(currentSlideIndex + 1); }
function goToSlide(index) { showSlide(index); }

function updateDots() {
    indicatorDots.forEach((dot, index) => {
         if(dot) dot.classList.toggle('active', index === currentSlideIndex);
    });
}

// Fetch Member Data from API
async function fetchMemberData() {
    if (!memberContainer) return;
    memberContainer.innerHTML = '<p class="loading-text">‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...</p>'; // Show loading message

    try {
        const response = await fetch(API_URL);
        if (!response.ok) {
             throw new Error(`HTTP error! status: ${response.status}`);
        }
        const data = await response.json();
        const validData = data.filter(entry => entry.Name && entry.Name.trim() !== "");
        processMemberData(validData);
    } catch (error) {
        console.error('Error fetching member data:', error);
        if (memberContainer) {
           memberContainer.innerHTML = '<p class="loading-text" style="color: var(--danger-color);">‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§´‡§≤‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§</p>';
        }
        // Also clear the total balance display in case of error
        updateTotalBalanceDisplay([]);
    }
}

// Process and Aggregate Member Data
function processMemberData(data) {
    const members = {};

    data.forEach(entry => {
        const name = entry.Name.trim();
        const loanAmount = parseFloat(entry.Loan) || 0;
        const paymentAmount = parseFloat(entry.Payment) || 0;
        const sipAmount = parseFloat(entry["SIP Payment"]) || 0;
        const imageUrl = entry.imageUrl && entry.imageUrl.trim() !== "" ? entry.imageUrl.trim() : null;

        if (!members[name]) {
            members[name] = { name: name, totalLoan: 0, totalPayment: 0, totalSIP: 0, imageUrl: null };
        }

        members[name].totalLoan += loanAmount;
        members[name].totalPayment += paymentAmount;
        members[name].totalSIP += sipAmount;
        if (imageUrl) members[name].imageUrl = imageUrl; // Keep track of the latest image URL
    });

    const memberList = Object.values(members).map(member => {
        const balance = (member.totalSIP + member.totalPayment) - member.totalLoan;
        return {
            ...member,
            balance: balance,
            displayImageUrl: member.imageUrl || DEFAULT_IMAGE
        };
    });

    memberList.sort((a, b) => b.balance - a.balance); // Sort by balance DESC

    displayMembers(memberList);
    updateTotalBalanceDisplay(memberList); // Calculate total balance
}

// Display Members in Cards
function displayMembers(members) {
    if (!memberContainer) return;
    memberContainer.innerHTML = ''; // Clear loading or previous content

    if (members.length === 0) {
         memberContainer.innerHTML = '<p class="loading-text">‡§ï‡•ã‡§à ‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§°‡•á‡§ü‡§æ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§</p>';
         return;
    }

    members.forEach(member => {
        const card = document.createElement('div');
        card.className = 'member-card';

        const isPrime = PRIME_MEMBERS.includes(member.name);
        const primeTagHTML = isPrime ? '<div class="prime-tag">Prime</div>' : '';

        card.innerHTML = `
            ${primeTagHTML}
            <img src="${member.displayImageUrl}" alt="${member.name}" loading="lazy" onerror="this.onerror=null; this.src='${DEFAULT_IMAGE}';">
            <p class="member-name">${member.name}</p>
            <p class="member-balance">‚Çπ${member.balance.toFixed(2)}</p>
        `;

        card.onclick = () => showFullImage(member.displayImageUrl, member.name);
        memberContainer.appendChild(card);
    });
}

// Show Full Image in Modal (‡§Æ‡•ã‡§°‡§≤ ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§∞‡•Ä ‡§õ‡§µ‡§ø ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç - ‡§∏‡§ø‡§∞‡•ç‡§´ ‡§õ‡§µ‡§ø, ‡§®‡§æ‡§Æ ‡§®‡§π‡•Ä‡§Ç)
function showFullImage(imageUrl, memberName) { // Function signature corrected, memberName is received but not used for caption
    // Ensure modal elements exist (‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç ‡§ï‡§ø ‡§Æ‡•ã‡§°‡§≤ ‡§§‡§§‡•ç‡§µ ‡§Æ‡•å‡§ú‡•Ç‡§¶ ‡§π‡•à‡§Ç)
    if (!imageModalElement || !fullImageSrcElement || !imageModalCaptionElement) {
         console.error("Image modal elements not found!"); // ‡§Ø‡§¶‡§ø ‡§§‡§§‡•ç‡§µ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§§‡•á ‡§π‡•à‡§Ç ‡§§‡•ã ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø ‡§≤‡•â‡§ó ‡§ï‡§∞‡•á‡§Ç
         return;
    }

    // Set image source (‡§õ‡§µ‡§ø ‡§∏‡•ç‡§∞‡•ã‡§§ ‡§∏‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç)
    fullImageSrcElement.src = imageUrl;

    // --- ‡§®‡§æ‡§Æ/‡§ï‡•à‡§™‡•ç‡§∂‡§® ‡§π‡§ü‡§æ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ---
    // imageModalCaptionElement.textContent = memberName; // >> ‡§Ø‡§π ‡§≤‡§æ‡§á‡§® ‡§π‡§ü‡§æ ‡§¶‡•Ä ‡§ó‡§à ‡§π‡•à ‡§Ø‡§æ ‡§ï‡§Æ‡•á‡§Ç‡§ü ‡§ï‡§∞ ‡§¶‡•Ä ‡§ó‡§à ‡§π‡•à <<
    imageModalCaptionElement.textContent = ''; // ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç ‡§ï‡§ø ‡§ï‡•à‡§™‡•ç‡§∂‡§® ‡§π‡§Æ‡•á‡§∂‡§æ ‡§ñ‡§æ‡§≤‡•Ä ‡§∞‡§π‡•á

    // Show modal with transition (‡§Æ‡•ã‡§°‡§≤ ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç)
    imageModalElement.classList.add('show');
    // Prevent background scrolling (‡§™‡•É‡§∑‡•ç‡§†‡§≠‡•Ç‡§Æ‡§ø ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤‡§ø‡§Ç‡§ó ‡§∞‡•ã‡§ï‡•á‡§Ç)
    document.body.style.overflow = 'hidden';
}


// Close Full Image Modal
function closeImageModal() {
     if (!imageModalElement) return;
     imageModalElement.classList.remove('show'); // Remove class to hide
}

// Update Total Balance (for Modal)
function updateTotalBalanceDisplay(memberList) {
    netCommunityBalance = memberList.reduce((sum, member) => sum + member.balance, 0);
    // The actual display happens when the modal is opened
}

// Show Balance Modal with Animation
function showBalanceModal() {
    if (!balanceModalElement || !totalBalanceElement) return;

    balanceModalElement.classList.add('show'); // Use class for display/transition
    totalBalanceElement.textContent = '‚Çπ0'; // Start from zero

    let current = 0;
    const target = netCommunityBalance;
    const duration = 1000; // ms
    const stepTime = 15; // ms (faster updates for smoother animation)
    const steps = Math.max(1, duration / stepTime); // Ensure at least 1 step
    const increment = target / steps;

    let currentStep = 0;
    const timer = setInterval(() => {
        current += increment;
        currentStep++;

        // Determine if animation should stop
        // Handles positive, negative, and zero target values
        let stopCondition = false;
        if (increment > 0) {
            stopCondition = current >= target;
        } else if (increment < 0) {
            stopCondition = current <= target;
        } else { // increment is 0
            stopCondition = true;
        }

        if (stopCondition || currentStep >= steps) {
            clearInterval(timer);
            current = target; // Ensure final value is exact
        }
        totalBalanceElement.textContent = '‚Çπ' + Math.round(current).toLocaleString('en-IN');
    }, stepTime);
}


// Close Balance Modal
function closeModal() {
     if (balanceModalElement) {
         balanceModalElement.classList.remove('show'); // Use class to hide
     }
}

// --- Event Listeners ---

// Initial Data Load on Page Load
window.addEventListener('DOMContentLoaded', () => {
    fetchMemberData();
    if (totalSlides > 0) showSlide(0); // Initialize letter slider
    if (headerImages.length > 1) setInterval(changeHeaderImage, 4000); // Start header slider (4s interval)
});

// View Balance Button
if (viewBalanceBtn) {
    viewBalanceBtn.addEventListener('click', showBalanceModal);
}

// Close Balance Modal on Outside Click
if (balanceModalElement) {
    balanceModalElement.addEventListener('click', function(event) {
        if (event.target === balanceModalElement) { // Clicked on the overlay itself
            closeModal();
        }
    });
}

// Close Image Modal on Outside Click or Close Button Click
if (imageModalElement) {
     imageModalElement.addEventListener('click', function(event) {
         // Close if clicked on overlay directly or the explicit close button
         if (event.target === imageModalElement || event.target.classList.contains('image-modal-close')) {
              closeImageModal();
         }
     });
}

// Keyboard accessibility for modals
window.addEventListener('keydown', function(event) {
    if (event.key === 'Escape') {
        if (balanceModalElement && balanceModalElement.classList.contains('show')) {
            closeModal();
        }
        if (imageModalElement && imageModalElement.classList.contains('show')) {
             closeImageModal();
        }
    }
});

</script> 
</body>
</html>
